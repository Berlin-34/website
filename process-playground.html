<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Process Section â€” Playground</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500&family=Outfit:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;700&display=swap" rel="stylesheet">
<style>
/* ========================================
   CSS CUSTOM PROPERTIES
   ======================================== */
:root {
  --bg-primary: #0a0a0a;
  --bg-secondary: #0f0f0f;
  --accent: #c9a87c;
  --accent-dim: #c9a87c33;
  --accent-glow: #c9a87c66;
  --text-primary: #ffffff;
  --text-secondary: #6b6b6b;
  --border: #1a1a1a;
  --font-display: 'Playfair Display', Georgia, serif;
  --font-body: 'Outfit', system-ui, sans-serif;
  --font-mono: 'JetBrains Mono', monospace;
  --ease-out: cubic-bezier(0.16, 1, 0.3, 1);
  --ease-in-out: cubic-bezier(0.65, 0, 0.35, 1);
  --ease-spring: cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* ========================================
   RESET & BASE
   ======================================== */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
html { scroll-behavior: smooth; -webkit-font-smoothing: antialiased; }
body {
  background: var(--bg-primary);
  color: var(--text-primary);
  font-family: var(--font-body);
  line-height: 1.6;
  overflow-x: hidden;
}
::selection { background: var(--accent); color: var(--bg-primary); }
::-webkit-scrollbar { width: 6px; }
::-webkit-scrollbar-track { background: var(--bg-primary); }
::-webkit-scrollbar-thumb { background: var(--accent-dim); border-radius: 3px; }

/* ========================================
   TOP NAVIGATION
   ======================================== */
.top-nav {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: 50px;
  background: rgba(10,10,10,0.85);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border-bottom: 1px solid var(--border);
  z-index: 1000;
  display: flex;
  align-items: center;
  padding: 0 24px;
}
.top-nav__tabs {
  display: flex;
  gap: 0;
  overflow-x: auto;
  scrollbar-width: none;
  -ms-overflow-style: none;
  position: relative;
  width: 100%;
}
.top-nav__tabs::-webkit-scrollbar { display: none; }
.top-nav__tab {
  padding: 14px 16px;
  font-size: 11px;
  font-weight: 500;
  letter-spacing: 1.5px;
  text-transform: uppercase;
  color: var(--text-secondary);
  text-decoration: none;
  white-space: nowrap;
  transition: color 0.3s var(--ease-out);
  position: relative;
  cursor: pointer;
  font-family: var(--font-body);
  background: none;
  border: none;
}
.top-nav__tab:hover { color: var(--text-primary); }
.top-nav__tab.active { color: var(--accent); }
.top-nav__indicator {
  position: absolute;
  bottom: 0;
  height: 2px;
  background: var(--accent);
  transition: left 0.4s var(--ease-out), width 0.4s var(--ease-out);
  border-radius: 1px;
  box-shadow: 0 0 8px var(--accent-glow);
}

/* ========================================
   SECTION HEADERS
   ======================================== */
.variation-section {
  min-height: 100vh;
  position: relative;
}
.variation-header {
  padding: 120px 60px 60px;
  border-bottom: 1px solid var(--border);
}
.variation-header__label {
  display: flex;
  align-items: center;
  gap: 16px;
  font-size: 11px;
  font-weight: 500;
  letter-spacing: 4px;
  text-transform: uppercase;
  color: var(--accent);
  margin-bottom: 24px;
  font-family: var(--font-body);
}
.variation-header__label::before {
  content: '';
  width: 40px;
  height: 1px;
  background: var(--accent);
}
.variation-header__title {
  font-family: var(--font-display);
  font-size: clamp(2rem, 5vw, 3.5rem);
  font-weight: 500;
  line-height: 1.15;
  color: var(--text-primary);
}

/* Notes Panel */
.notes-toggle {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  margin-top: 32px;
  padding: 10px 20px;
  background: var(--bg-secondary);
  border: 1px solid var(--border);
  border-radius: 6px;
  color: var(--text-secondary);
  font-family: var(--font-body);
  font-size: 12px;
  letter-spacing: 1px;
  text-transform: uppercase;
  cursor: pointer;
  transition: all 0.3s var(--ease-out);
}
.notes-toggle:hover { border-color: var(--accent-dim); color: var(--text-primary); }
.notes-toggle svg { transition: transform 0.3s var(--ease-out); }
.notes-toggle.open svg { transform: rotate(180deg); }
.notes-panel {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.5s var(--ease-out), opacity 0.3s;
  opacity: 0;
}
.notes-panel.open { max-height: 600px; opacity: 1; }
.notes-panel__content {
  padding: 24px 60px 40px;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 24px;
  border-bottom: 1px solid var(--border);
}
.notes-panel__item h4 {
  font-family: var(--font-body);
  font-size: 11px;
  font-weight: 600;
  letter-spacing: 2px;
  text-transform: uppercase;
  color: var(--accent);
  margin-bottom: 8px;
}
.notes-panel__item p, .notes-panel__item a {
  font-size: 13px;
  color: var(--text-secondary);
  line-height: 1.6;
}
.notes-panel__item a {
  display: block;
  color: var(--accent);
  text-decoration: none;
  transition: opacity 0.2s;
}
.notes-panel__item a:hover { opacity: 0.7; }

/* ========================================
   VARIATION 1: ORBIT / SOLAR SYSTEM
   ======================================== */
.orbit-section { min-height: 100vh; }
.orbit__container {
  height: 100vh;
  position: relative;
  display: flex;
  align-items: center;
  overflow: hidden;
}
.orbit__starfield {
  position: absolute;
  inset: 0;
  overflow: hidden;
}
.orbit__star {
  position: absolute;
  width: 1px;
  height: 1px;
  background: rgba(255,255,255,0.4);
  border-radius: 50%;
  animation: twinkle 3s ease-in-out infinite;
}
@keyframes twinkle {
  0%, 100% { opacity: 0.2; }
  50% { opacity: 0.8; }
}

.orbit__system {
  position: relative;
  width: min(600px, 50vw);
  height: min(600px, 50vw);
  margin-left: 5%;
  flex-shrink: 0;
}
.orbit__sun {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 80px;
  height: 80px;
  border-radius: 50%;
  background: radial-gradient(circle, var(--accent) 0%, rgba(201,168,124,0.3) 50%, transparent 70%);
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: var(--font-body);
  font-size: 9px;
  font-weight: 600;
  letter-spacing: 2px;
  text-transform: uppercase;
  color: var(--bg-primary);
  z-index: 5;
  cursor: default;
  box-shadow: 0 0 40px var(--accent-dim), 0 0 80px rgba(201,168,124,0.1);
}
.orbit__ring {
  position: absolute;
  top: 50%;
  left: 50%;
  border-radius: 50%;
  border: 1px dashed rgba(201,168,124,0.08);
  transform: translate(-50%, -50%);
  transition: border-color 0.6s var(--ease-out);
}
.orbit__ring.active { border-color: rgba(201,168,124,0.35); }

.orbit__planet {
  position: absolute;
  width: 44px;
  height: 44px;
  border-radius: 50%;
  background: var(--bg-secondary);
  border: 1px solid var(--border);
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: var(--font-display);
  font-size: 16px;
  font-weight: 500;
  color: var(--text-secondary);
  cursor: pointer;
  transition: all 0.6s var(--ease-out);
  z-index: 6;
  will-change: transform, box-shadow;
}
.orbit__planet:hover {
  border-color: var(--accent);
  color: var(--accent);
  box-shadow: 0 0 20px var(--accent-dim), 0 0 40px rgba(201,168,124,0.1);
}
.orbit__planet.active {
  background: var(--accent);
  color: var(--bg-primary);
  border-color: var(--accent);
  box-shadow: 0 0 30px var(--accent-glow);
}

.orbit__detail-panel {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: flex-start;
  padding-left: 60px;
  padding-right: 60px;
  min-width: 0;
}
.orbit__detail {
  max-width: 420px;
  opacity: 0;
  transform: translateX(20px);
  transition: opacity 0.5s var(--ease-out), transform 0.5s var(--ease-out);
}
.orbit__detail.visible {
  opacity: 1;
  transform: translateX(0);
}
.orbit__detail-step {
  font-family: var(--font-body);
  font-size: 11px;
  letter-spacing: 4px;
  text-transform: uppercase;
  color: var(--accent);
  margin-bottom: 12px;
}
.orbit__detail-title {
  font-family: var(--font-display);
  font-size: 32px;
  font-weight: 500;
  margin-bottom: 16px;
  color: var(--text-primary);
  line-height: 1.2;
}
.orbit__detail-desc {
  font-size: 15px;
  color: var(--text-secondary);
  line-height: 1.7;
}
.orbit__hint {
  position: absolute;
  bottom: 40px;
  left: 50%;
  transform: translateX(-50%);
  font-size: 12px;
  color: var(--text-secondary);
  letter-spacing: 1px;
  opacity: 0.4;
  transition: opacity 0.5s;
}

/* ========================================
   VARIATION 2: ARCHITECTURAL BLUEPRINT
   ======================================== */
.blueprint-section { position: relative; overflow: hidden; }
.blueprint__bg {
  position: absolute;
  inset: 0;
  background-image:
    linear-gradient(rgba(201,168,124,0.03) 1px, transparent 1px),
    linear-gradient(90deg, rgba(201,168,124,0.03) 1px, transparent 1px);
  background-size: 40px 40px;
  z-index: 0;
}
.blueprint__container {
  position: relative;
  z-index: 1;
  padding: 80px 60px 120px;
  max-width: 1400px;
  margin: 0 auto;
}
.blueprint__layout {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 60px 80px;
  position: relative;
}
.blueprint__detail {
  position: relative;
  border: 1px dashed rgba(201,168,124,0.15);
  padding: 40px;
  background: rgba(10,10,10,0.8);
  transition: all 0.5s var(--ease-out);
  cursor: default;
}
.blueprint__detail:hover {
  border-color: rgba(201,168,124,0.4);
  background: rgba(15,15,15,0.95);
  box-shadow: 0 0 40px rgba(201,168,124,0.05);
  z-index: 10;
  position: relative;
}
.blueprint__detail-label {
  position: absolute;
  top: -10px;
  left: 20px;
  background: var(--bg-primary);
  padding: 0 12px;
  font-family: var(--font-mono);
  font-size: 10px;
  font-weight: 700;
  letter-spacing: 3px;
  color: var(--accent);
}
.blueprint__corner {
  position: absolute;
  width: 12px;
  height: 12px;
}
.blueprint__corner::before,
.blueprint__corner::after {
  content: '';
  position: absolute;
  background: var(--accent);
  opacity: 0.3;
  transition: opacity 0.5s var(--ease-out);
}
.blueprint__detail:hover .blueprint__corner::before,
.blueprint__detail:hover .blueprint__corner::after { opacity: 0.7; }
.blueprint__corner--tl { top: -1px; left: -1px; }
.blueprint__corner--tl::before { width: 12px; height: 1px; top: 0; left: 0; }
.blueprint__corner--tl::after { width: 1px; height: 12px; top: 0; left: 0; }
.blueprint__corner--tr { top: -1px; right: -1px; }
.blueprint__corner--tr::before { width: 12px; height: 1px; top: 0; right: 0; }
.blueprint__corner--tr::after { width: 1px; height: 12px; top: 0; right: 0; }
.blueprint__corner--bl { bottom: -1px; left: -1px; }
.blueprint__corner--bl::before { width: 12px; height: 1px; bottom: 0; left: 0; }
.blueprint__corner--bl::after { width: 1px; height: 12px; bottom: 0; left: 0; }
.blueprint__corner--br { bottom: -1px; right: -1px; }
.blueprint__corner--br::before { width: 12px; height: 1px; bottom: 0; right: 0; }
.blueprint__corner--br::after { width: 1px; height: 12px; bottom: 0; right: 0; }

.blueprint__number {
  font-family: var(--font-mono);
  font-size: 48px;
  font-weight: 700;
  color: transparent;
  -webkit-text-stroke: 1px rgba(201,168,124,0.1);
  line-height: 1;
  margin-bottom: 16px;
  transition: -webkit-text-stroke-color 0.5s var(--ease-out);
}
.blueprint__detail:hover .blueprint__number {
  -webkit-text-stroke-color: rgba(201,168,124,0.3);
}
.blueprint__title {
  font-family: var(--font-display);
  font-size: 22px;
  font-weight: 500;
  color: var(--text-primary);
  margin-bottom: 12px;
  line-height: 1.2;
}
.blueprint__desc {
  font-size: 13px;
  color: var(--text-secondary);
  line-height: 1.7;
  margin-bottom: 20px;
}
.blueprint__dimension {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  font-family: var(--font-mono);
  font-size: 10px;
  color: var(--accent);
  opacity: 0.5;
  letter-spacing: 1px;
}
.blueprint__dimension::before,
.blueprint__dimension::after {
  content: '';
  width: 20px;
  height: 1px;
  background: var(--accent);
  opacity: 0.5;
}
.blueprint__spec-panel {
  position: absolute;
  top: 50%;
  right: -180px;
  transform: translateY(-50%) translateX(10px);
  width: 160px;
  padding: 16px;
  background: rgba(15,15,15,0.95);
  border: 1px solid rgba(201,168,124,0.2);
  opacity: 0;
  transition: opacity 0.5s var(--ease-out), transform 0.5s var(--ease-out);
  pointer-events: none;
  z-index: 20;
}
.blueprint__detail:hover .blueprint__spec-panel {
  opacity: 1;
  transform: translateY(-50%) translateX(0);
}
/* For left-column items, show spec panel on the LEFT instead of right to avoid overlap */
.blueprint__detail:nth-child(odd) .blueprint__spec-panel {
  right: auto;
  left: -180px;
  transform: translateY(-50%) translateX(-10px);
}
.blueprint__detail:nth-child(odd):hover .blueprint__spec-panel {
  transform: translateY(-50%) translateX(0);
}
.blueprint__spec-title {
  font-family: var(--font-mono);
  font-size: 9px;
  letter-spacing: 2px;
  color: var(--accent);
  margin-bottom: 10px;
  text-transform: uppercase;
}
.blueprint__spec-item {
  font-size: 11px;
  color: var(--text-secondary);
  margin-bottom: 4px;
}
.blueprint__annotation-line {
  position: absolute;
  right: -20px;
  top: 50%;
  width: 20px;
  height: 1px;
  background: rgba(201,168,124,0.2);
  opacity: 0;
  transition: opacity 0.5s var(--ease-out);
}
.blueprint__detail:nth-child(odd) .blueprint__annotation-line {
  right: auto;
  left: -20px;
}
.blueprint__detail:hover .blueprint__annotation-line { opacity: 1; }

/* ========================================
   VARIATION 3: TERMINAL / COMMAND LINE
   ======================================== */
.terminal-section { position: relative; }
.terminal__container {
  max-width: 900px;
  margin: 0 auto;
  padding: 60px 40px 100px;
}
.terminal__window {
  background: #0c0c0c;
  border: 1px solid #222;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 20px 80px rgba(0,0,0,0.5), 0 0 1px rgba(201,168,124,0.2);
  position: relative;
}
.terminal__scanlines {
  position: absolute;
  inset: 0;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(0,0,0,0.08) 2px,
    rgba(0,0,0,0.08) 4px
  );
  pointer-events: none;
  z-index: 2;
  opacity: 0.4;
}
.terminal__crt-glow {
  position: absolute;
  inset: 0;
  box-shadow: inset 0 0 80px rgba(201,168,124,0.03);
  pointer-events: none;
  z-index: 1;
  border-radius: 8px;
}
.terminal__header {
  display: flex;
  align-items: center;
  padding: 12px 16px;
  background: #111;
  border-bottom: 1px solid #1a1a1a;
  gap: 8px;
}
.terminal__dot {
  width: 10px;
  height: 10px;
  border-radius: 50%;
}
.terminal__dot--red { background: #ff5f56; }
.terminal__dot--yellow { background: #ffbd2e; }
.terminal__dot--green { background: #27c93f; }
.terminal__header-title {
  flex: 1;
  text-align: center;
  font-family: var(--font-mono);
  font-size: 11px;
  color: var(--text-secondary);
  letter-spacing: 1px;
}
.terminal__body {
  padding: 24px;
  min-height: 500px;
  max-height: 600px;
  overflow-y: auto;
  font-family: var(--font-mono);
  font-size: 13px;
  line-height: 1.8;
  position: relative;
  z-index: 3;
}
.terminal__body::-webkit-scrollbar { width: 4px; }
.terminal__body::-webkit-scrollbar-thumb { background: #222; border-radius: 2px; }
.terminal__line {
  margin-bottom: 2px;
  opacity: 0;
  transform: translateY(5px);
  transition: opacity 0.3s, transform 0.3s;
}
.terminal__line.visible {
  opacity: 1;
  transform: translateY(0);
}
.terminal__prompt { color: var(--accent); }
.terminal__command { color: var(--text-primary); }
.terminal__comment { color: #333; }
.terminal__output { color: var(--text-secondary); padding-left: 16px; display: block; }
.terminal__success { color: #27c93f; }
.terminal__progress-bar {
  display: inline-block;
  color: var(--accent);
}
.terminal__ascii {
  color: #1e1e1e;
  line-height: 1.2;
  font-size: 11px;
  user-select: none;
}
.terminal__cursor {
  display: inline-block;
  width: 8px;
  height: 15px;
  background: var(--accent);
  animation: blink 1s step-end infinite;
  vertical-align: middle;
  margin-left: 2px;
}
@keyframes blink {
  0%, 100% { opacity: 1; }
  50% { opacity: 0; }
}
.terminal__controls {
  display: flex;
  gap: 8px;
  padding: 16px 24px;
  border-top: 1px solid #1a1a1a;
  background: #0e0e0e;
  position: relative;
  z-index: 3;
}
.terminal__btn {
  padding: 6px 14px;
  background: transparent;
  border: 1px solid var(--border);
  border-radius: 4px;
  color: var(--text-secondary);
  font-family: var(--font-mono);
  font-size: 11px;
  cursor: pointer;
  transition: all 0.3s var(--ease-out);
}
.terminal__btn:hover {
  border-color: var(--accent);
  color: var(--accent);
}

/* ========================================
   VARIATION 4: REVEALER / SCROLL CURTAIN
   ======================================== */
.revealer-section { position: relative; }
.revealer__sticky-container {
  position: relative;
  height: 700vh;
}
.revealer__viewport {
  position: sticky;
  top: 0;
  height: 100vh;
  overflow: hidden;
}
.revealer__panel {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  padding: 0 80px;
  will-change: transform;
}
.revealer__panel:nth-child(1) { background: #0a0a0a; }
.revealer__panel:nth-child(2) { background: #080808; }
.revealer__panel:nth-child(3) { background: #0b0b0b; }
.revealer__panel:nth-child(4) { background: #090909; }
.revealer__panel:nth-child(5) { background: #0a0a0a; }
.revealer__panel:nth-child(6) { background: #080808; }

.revealer__watermark {
  position: absolute;
  font-family: var(--font-display);
  font-size: 40vw;
  font-weight: 700;
  color: rgba(255,255,255,0.03);
  line-height: 1;
  user-select: none;
  pointer-events: none;
  top: 50%;
  right: 5%;
  transform: translateY(-50%);
}

.revealer__content {
  position: relative;
  z-index: 2;
  max-width: 600px;
}
.revealer__panel:nth-child(odd) .revealer__content { margin-left: 10%; }
.revealer__panel:nth-child(even) .revealer__content { margin-left: auto; margin-right: 10%; text-align: left; }

.revealer__step-label {
  font-family: var(--font-body);
  font-size: 11px;
  font-weight: 500;
  letter-spacing: 4px;
  text-transform: uppercase;
  color: var(--accent);
  margin-bottom: 20px;
  display: flex;
  align-items: center;
  gap: 12px;
}
.revealer__step-label::before {
  content: '';
  width: 30px;
  height: 1px;
  background: var(--accent);
}
.revealer__title {
  font-family: var(--font-display);
  font-size: clamp(36px, 5vw, 64px);
  font-weight: 500;
  line-height: 1.1;
  margin-bottom: 24px;
  color: var(--text-primary);
}
.revealer__desc {
  font-size: 16px;
  color: var(--text-secondary);
  line-height: 1.7;
  max-width: 480px;
}
.revealer__progress {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 2px;
  background: var(--border);
  z-index: 100;
}
.revealer__progress-fill {
  height: 100%;
  background: var(--accent);
  width: 0%;
  transition: width 0.1s linear;
  box-shadow: 0 0 8px var(--accent-glow);
}

/* ========================================
   VARIATION 5: MORPHING COUNTER
   ======================================== */
.counter-section { position: relative; }
.counter__container {
  height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  position: relative;
  overflow: hidden;
  padding: 0 40px;
}
.counter__display {
  position: relative;
  text-align: center;
  width: 100%;
  max-width: 700px;
}
.counter__number {
  font-family: var(--font-display);
  font-size: clamp(200px, 25vw, 350px);
  font-weight: 700;
  color: var(--accent);
  opacity: 0.12;
  line-height: 0.85;
  margin-bottom: -40px;
  position: relative;
  transition: transform 0.6s var(--ease-out), opacity 0.4s;
  user-select: none;
}
.counter__number.transitioning {
  transform: scale(0.85);
  opacity: 0;
}
.counter__title {
  font-family: var(--font-display);
  font-size: clamp(32px, 4vw, 56px);
  font-weight: 500;
  color: var(--text-primary);
  margin-bottom: 20px;
  line-height: 1.15;
  position: relative;
  overflow: hidden;
}
.counter__title-inner {
  display: block;
  transition: transform 0.5s var(--ease-out), opacity 0.4s;
}
.counter__title-inner.slide-out {
  transform: translateX(-60px);
  opacity: 0;
}
.counter__title-inner.slide-in {
  transform: translateX(60px);
  opacity: 0;
}
.counter__desc {
  font-size: 16px;
  color: var(--text-secondary);
  line-height: 1.7;
  max-width: 500px;
  margin: 0 auto;
  transition: opacity 0.4s;
}
.counter__desc.fading { opacity: 0; }
.counter__pills {
  display: flex;
  gap: 10px;
  margin-top: 60px;
  align-items: center;
  justify-content: center;
}
.counter__pill {
  width: 10px;
  height: 10px;
  border-radius: 5px;
  background: rgba(201,168,124,0.2);
  border: none;
  cursor: pointer;
  transition: all 0.4s var(--ease-out);
  position: relative;
  overflow: hidden;
  padding: 0;
}
.counter__pill.active {
  width: 48px;
  background: rgba(201,168,124,0.15);
}
.counter__pill-fill {
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  width: 0%;
  background: var(--accent);
  border-radius: 5px;
  transition: width 0.1s linear;
}
.counter__pill.active .counter__pill-fill {
  display: block;
}

/* ========================================
   VARIATION 6: DIAGONAL CASCADE
   ======================================== */
.cascade-section { position: relative; overflow: hidden; }
.cascade__container {
  padding: 80px 60px 160px;
  max-width: 1200px;
  margin: 0 auto;
  position: relative;
}
.cascade__svg-line {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 0;
}
.cascade__svg-line line {
  stroke: rgba(201,168,124,0.12);
  stroke-width: 1;
  stroke-dasharray: 6 4;
}
.cascade__grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 40px;
  position: relative;
  z-index: 1;
}
.cascade__card {
  background: var(--bg-secondary);
  border: 1px solid var(--border);
  border-left: 2px solid var(--accent);
  padding: 40px;
  max-width: 520px;
  opacity: 0;
  transform: translateX(-30px) translateY(20px);
  transition: opacity 0.7s var(--ease-out), transform 0.7s var(--ease-out), border-left-width 0.3s, box-shadow 0.3s;
  position: relative;
}
.cascade__card.visible {
  opacity: 1;
  transform: translateX(0) translateY(0);
}
.cascade__card:hover {
  transform: translateY(-4px);
  border-left-width: 3px;
  box-shadow: 0 8px 32px rgba(0,0,0,0.3), 0 0 20px var(--accent-dim);
}
/* Diagonal stagger: each card offset further right */
.cascade__card:nth-child(1) { margin-left: 0%; }
.cascade__card:nth-child(2) { margin-left: 12%; }
.cascade__card:nth-child(3) { margin-left: 24%; }
.cascade__card:nth-child(4) { margin-left: 36%; }
.cascade__card:nth-child(5) { margin-left: 48%; }
.cascade__card:nth-child(6) { margin-left: 60%; }

.cascade__number {
  font-family: var(--font-mono);
  font-size: 13px;
  font-weight: 700;
  color: var(--accent);
  letter-spacing: 2px;
  margin-bottom: 12px;
}
.cascade__title {
  font-family: var(--font-display);
  font-size: 24px;
  font-weight: 500;
  color: var(--text-primary);
  margin-bottom: 12px;
  line-height: 1.2;
}
.cascade__desc {
  font-size: 14px;
  color: var(--text-secondary);
  line-height: 1.7;
}

/* ========================================
   VARIATION 7: RADIAL / COMPASS
   ======================================== */
.compass-section { position: relative; }
.compass__container {
  height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  overflow: hidden;
  padding: 0 40px;
}
.compass__wheel {
  position: relative;
  width: min(550px, 80vw);
  height: min(550px, 80vw);
}
.compass__center-ring {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 160px;
  height: 160px;
  border-radius: 50%;
  border: 2px solid var(--accent);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10;
  background: var(--bg-primary);
  box-shadow: 0 0 40px var(--accent-dim);
  transition: all 0.5s var(--ease-out);
}
.compass__center-content {
  text-align: center;
  padding: 16px;
  transition: opacity 0.4s;
}
.compass__center-label {
  font-family: var(--font-body);
  font-size: 9px;
  font-weight: 600;
  letter-spacing: 3px;
  text-transform: uppercase;
  color: var(--accent);
  margin-bottom: 4px;
}
.compass__center-title {
  font-family: var(--font-display);
  font-size: 18px;
  font-weight: 500;
  color: var(--text-primary);
  line-height: 1.2;
  margin-bottom: 8px;
}
.compass__center-desc {
  font-size: 11px;
  color: var(--text-secondary);
  line-height: 1.5;
  display: none;
}
.compass__center-content.has-selection .compass__center-desc {
  display: block;
}

.compass__outer-ring {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 100%;
  height: 100%;
  border-radius: 50%;
  border: 1px dashed rgba(201,168,124,0.1);
}

.compass__segment {
  position: absolute;
  width: 100px;
  text-align: center;
  cursor: pointer;
  transition: all 0.4s var(--ease-out);
  z-index: 5;
}
.compass__segment:hover .compass__seg-num {
  color: var(--accent);
  text-shadow: 0 0 12px var(--accent-dim);
}
.compass__segment:hover .compass__seg-title {
  color: var(--text-primary);
}
.compass__segment.active .compass__seg-dot {
  background: var(--accent);
  box-shadow: 0 0 16px var(--accent-glow);
  transform: scale(1.4);
}
.compass__segment.active .compass__seg-num {
  color: var(--accent);
}
.compass__segment.active .compass__seg-title {
  color: var(--accent);
}
.compass__seg-dot {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  border: 2px solid var(--accent);
  background: var(--bg-primary);
  margin: 0 auto 8px;
  transition: all 0.4s var(--ease-out);
}
.compass__seg-num {
  font-family: var(--font-mono);
  font-size: 11px;
  font-weight: 700;
  color: var(--text-secondary);
  letter-spacing: 2px;
  margin-bottom: 4px;
  transition: all 0.3s;
}
.compass__seg-title {
  font-family: var(--font-display);
  font-size: 13px;
  font-weight: 500;
  color: var(--text-secondary);
  line-height: 1.2;
  transition: all 0.3s;
}
.compass__spoke {
  position: absolute;
  top: 50%;
  left: 50%;
  transform-origin: 0 0;
  height: 1px;
  background: rgba(201,168,124,0.08);
  z-index: 1;
  transition: background 0.4s;
}
.compass__spoke.active {
  background: rgba(201,168,124,0.3);
}

/* Compass mobile fallback */
.compass__mobile-list {
  display: none;
  flex-direction: column;
  gap: 16px;
  padding: 40px 24px 80px;
}
.compass__mobile-item {
  background: var(--bg-secondary);
  border: 1px solid var(--border);
  border-left: 2px solid var(--accent);
  padding: 24px;
  cursor: pointer;
  transition: all 0.3s var(--ease-out);
}
.compass__mobile-item:hover,
.compass__mobile-item.active {
  border-color: var(--accent);
  background: rgba(15,15,15,0.95);
}
.compass__mobile-num {
  font-family: var(--font-mono);
  font-size: 10px;
  color: var(--accent);
  letter-spacing: 2px;
  margin-bottom: 6px;
}
.compass__mobile-title {
  font-family: var(--font-display);
  font-size: 20px;
  font-weight: 500;
  color: var(--text-primary);
  margin-bottom: 8px;
}
.compass__mobile-desc {
  font-size: 13px;
  color: var(--text-secondary);
  line-height: 1.6;
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.4s var(--ease-out), opacity 0.3s;
  opacity: 0;
}
.compass__mobile-item.active .compass__mobile-desc {
  max-height: 200px;
  opacity: 1;
}

/* ========================================
   RESPONSIVE
   ======================================== */
@media (max-width: 1024px) {
  .blueprint__layout { grid-template-columns: 1fr; }
  .blueprint__spec-panel { display: none; }
  .blueprint__annotation-line { display: none; }
  .cascade__card:nth-child(1) { margin-left: 0; }
  .cascade__card:nth-child(2) { margin-left: 5%; }
  .cascade__card:nth-child(3) { margin-left: 10%; }
  .cascade__card:nth-child(4) { margin-left: 15%; }
  .cascade__card:nth-child(5) { margin-left: 20%; }
  .cascade__card:nth-child(6) { margin-left: 25%; }
}
@media (max-width: 768px) {
  .variation-header { padding: 100px 24px 40px; }
  .notes-panel__content { padding: 24px; }
  .orbit__container { flex-direction: column; padding: 60px 24px; }
  .orbit__system { width: 90vw; height: 90vw; margin-left: 0; }
  .orbit__detail-panel { padding: 24px; }
  .orbit__planet { width: 36px; height: 36px; font-size: 13px; }
  .blueprint__container { padding: 60px 24px 80px; }
  .blueprint__detail { padding: 24px; }
  .terminal__container { padding: 40px 16px 60px; }
  .terminal__body { padding: 16px; font-size: 11px; }
  .revealer__panel { padding: 0 32px; }
  .revealer__content { margin-left: 0 !important; margin-right: 0 !important; max-width: 100%; }
  .counter__number { font-size: 150px; margin-bottom: -20px; }
  .cascade__container { padding: 60px 24px 100px; }
  .cascade__card { max-width: 100%; }
  .cascade__card:nth-child(n) { margin-left: 0; }
  .compass__container { display: none; }
  .compass__mobile-list { display: flex; }
}
</style>
</head>
<body>

<!-- ========================================
     TOP NAVIGATION
     ======================================== -->
<nav class="top-nav">
  <div class="top-nav__tabs" id="navTabs">
    <button class="top-nav__tab active" data-target="orbit">Orbit</button>
    <button class="top-nav__tab" data-target="blueprint">Blueprint</button>
    <button class="top-nav__tab" data-target="terminal">Terminal</button>
    <button class="top-nav__tab" data-target="revealer">Revealer</button>
    <button class="top-nav__tab" data-target="counter">Counter</button>
    <button class="top-nav__tab" data-target="cascade">Cascade</button>
    <button class="top-nav__tab" data-target="compass">Compass</button>
    <div class="top-nav__indicator" id="navIndicator"></div>
  </div>
</nav>

<!-- ========================================
     VARIATION 1: ORBIT / SOLAR SYSTEM
     ======================================== -->
<section class="variation-section orbit-section" id="orbit">
  <div class="variation-header">
    <div class="variation-header__label">Variation 01</div>
    <h2 class="variation-header__title">Orbit / Solar System</h2>
    <button class="notes-toggle" onclick="toggleNotes(this)">
      Notes
      <svg width="12" height="12" viewBox="0 0 12 12" fill="none"><path d="M3 4.5L6 7.5L9 4.5" stroke="currentColor" stroke-width="1.5"/></svg>
    </button>
  </div>
  <div class="notes-panel">
    <div class="notes-panel__content">
      <div class="notes-panel__item">
        <h4>Interaction Model</h4>
        <p>Click-to-select. Planets orbit continuously. Selecting one shows content in a side panel. Non-linear exploration.</p>
      </div>
      <div class="notes-panel__item">
        <h4>Schema Fields</h4>
        <p>stepNumber, title, description, orbitColor (optional for customization).</p>
      </div>
      <div class="notes-panel__item">
        <h4>References</h4>
        <a href="https://neal.fun/space-elevator/" target="_blank">neal.fun/space-elevator</a>
        <a href="https://stars.chromeexperiments.com" target="_blank">Chrome Star Experiments</a>
      </div>
      <div class="notes-panel__item">
        <h4>Trade-offs</h4>
        <p>Non-linear order may confuse. Requires click interaction. Falls back to list on mobile.</p>
      </div>
      <div class="notes-panel__item">
        <h4>Vibe</h4>
        <p>Star map navigation. Cosmic. Exploratory. Feels like commanding a spacecraft.</p>
      </div>
    </div>
  </div>

  <div class="orbit__container">
    <div class="orbit__starfield" id="orbitStarfield"></div>
    <div class="orbit__system" id="orbitSystem">
      <div class="orbit__sun">PROCESS</div>
    </div>
    <div class="orbit__detail-panel">
      <div class="orbit__detail" id="orbitDetail">
        <div class="orbit__detail-step" id="orbitDetailStep"></div>
        <h3 class="orbit__detail-title" id="orbitDetailTitle"></h3>
        <p class="orbit__detail-desc" id="orbitDetailDesc"></p>
      </div>
    </div>
    <div class="orbit__hint">Click a planet to explore</div>
  </div>
</section>

<!-- ========================================
     VARIATION 2: ARCHITECTURAL BLUEPRINT
     ======================================== -->
<section class="variation-section blueprint-section" id="blueprint">
  <div class="variation-header">
    <div class="variation-header__label">Variation 02</div>
    <h2 class="variation-header__title">Architectural Blueprint</h2>
    <button class="notes-toggle" onclick="toggleNotes(this)">
      Notes
      <svg width="12" height="12" viewBox="0 0 12 12" fill="none"><path d="M3 4.5L6 7.5L9 4.5" stroke="currentColor" stroke-width="1.5"/></svg>
    </button>
  </div>
  <div class="notes-panel">
    <div class="notes-panel__content">
      <div class="notes-panel__item">
        <h4>Interaction Model</h4>
        <p>Hover-to-inspect. Blueprint grid reveals annotation panels on hover. Static layout, scroll to see all.</p>
      </div>
      <div class="notes-panel__item">
        <h4>Schema Fields</h4>
        <p>stepNumber, title, description, duration (e.g., "2-3 Weeks"), tools (array of strings).</p>
      </div>
      <div class="notes-panel__item">
        <h4>References</h4>
        <a href="https://stripe.com/atlas" target="_blank">Stripe Atlas</a>
        <a href="https://linear.app/changelog" target="_blank">Linear Changelog</a>
      </div>
      <div class="notes-panel__item">
        <h4>Trade-offs</h4>
        <p>Dense layout. Spec panels hidden on mobile. Technical feel may not suit all brands.</p>
      </div>
      <div class="notes-panel__item">
        <h4>Vibe</h4>
        <p>Engineering precision. Technical drafting. The blueprints of the design process itself.</p>
      </div>
    </div>
  </div>

  <div class="blueprint__bg"></div>
  <div class="blueprint__container">
    <div class="blueprint__layout">
      <div class="blueprint__detail">
        <span class="blueprint__detail-label">DETAIL A</span>
        <div class="blueprint__corner blueprint__corner--tl"></div>
        <div class="blueprint__corner blueprint__corner--tr"></div>
        <div class="blueprint__corner blueprint__corner--bl"></div>
        <div class="blueprint__corner blueprint__corner--br"></div>
        <div class="blueprint__number">01</div>
        <h3 class="blueprint__title">Discovery</h3>
        <p class="blueprint__desc">We immerse ourselves in your business, users, and goals through stakeholder interviews and competitive analysis.</p>
        <span class="blueprint__dimension">1-2 WEEKS</span>
        <div class="blueprint__annotation-line"></div>
        <div class="blueprint__spec-panel">
          <div class="blueprint__spec-title">Deliverables</div>
          <div class="blueprint__spec-item">Stakeholder Interviews</div>
          <div class="blueprint__spec-item">Competitive Audit</div>
          <div class="blueprint__spec-item">Project Brief</div>
          <div class="blueprint__spec-item">Success Metrics</div>
        </div>
      </div>
      <div class="blueprint__detail">
        <span class="blueprint__detail-label">DETAIL B</span>
        <div class="blueprint__corner blueprint__corner--tl"></div>
        <div class="blueprint__corner blueprint__corner--tr"></div>
        <div class="blueprint__corner blueprint__corner--bl"></div>
        <div class="blueprint__corner blueprint__corner--br"></div>
        <div class="blueprint__number">02</div>
        <h3 class="blueprint__title">Research &amp; Strategy</h3>
        <p class="blueprint__desc">User research, persona development, and information architecture to establish a solid foundation.</p>
        <span class="blueprint__dimension">2-3 WEEKS</span>
        <div class="blueprint__annotation-line"></div>
        <div class="blueprint__spec-panel">
          <div class="blueprint__spec-title">Deliverables</div>
          <div class="blueprint__spec-item">User Personas</div>
          <div class="blueprint__spec-item">Journey Maps</div>
          <div class="blueprint__spec-item">Information Architecture</div>
          <div class="blueprint__spec-item">Content Strategy</div>
        </div>
      </div>
      <div class="blueprint__detail">
        <span class="blueprint__detail-label">DETAIL C</span>
        <div class="blueprint__corner blueprint__corner--tl"></div>
        <div class="blueprint__corner blueprint__corner--tr"></div>
        <div class="blueprint__corner blueprint__corner--bl"></div>
        <div class="blueprint__corner blueprint__corner--br"></div>
        <div class="blueprint__number">03</div>
        <h3 class="blueprint__title">Wireframing</h3>
        <p class="blueprint__desc">Low-fidelity layouts that map user flows and validate structure before visual design begins.</p>
        <span class="blueprint__dimension">2-3 WEEKS</span>
        <div class="blueprint__annotation-line"></div>
        <div class="blueprint__spec-panel">
          <div class="blueprint__spec-title">Deliverables</div>
          <div class="blueprint__spec-item">Lo-fi Wireframes</div>
          <div class="blueprint__spec-item">User Flow Diagrams</div>
          <div class="blueprint__spec-item">Navigation Map</div>
          <div class="blueprint__spec-item">Layout Validation</div>
        </div>
      </div>
      <div class="blueprint__detail">
        <span class="blueprint__detail-label">DETAIL D</span>
        <div class="blueprint__corner blueprint__corner--tl"></div>
        <div class="blueprint__corner blueprint__corner--tr"></div>
        <div class="blueprint__corner blueprint__corner--bl"></div>
        <div class="blueprint__corner blueprint__corner--br"></div>
        <div class="blueprint__number">04</div>
        <h3 class="blueprint__title">Visual Design</h3>
        <p class="blueprint__desc">High-fidelity mockups that bring the brand to life with typography, color, imagery, and micro-interactions.</p>
        <span class="blueprint__dimension">3-4 WEEKS</span>
        <div class="blueprint__annotation-line"></div>
        <div class="blueprint__spec-panel">
          <div class="blueprint__spec-title">Deliverables</div>
          <div class="blueprint__spec-item">Hi-fi Mockups</div>
          <div class="blueprint__spec-item">Design System</div>
          <div class="blueprint__spec-item">Component Library</div>
          <div class="blueprint__spec-item">Motion Specs</div>
        </div>
      </div>
      <div class="blueprint__detail">
        <span class="blueprint__detail-label">DETAIL E</span>
        <div class="blueprint__corner blueprint__corner--tl"></div>
        <div class="blueprint__corner blueprint__corner--tr"></div>
        <div class="blueprint__corner blueprint__corner--bl"></div>
        <div class="blueprint__corner blueprint__corner--br"></div>
        <div class="blueprint__number">05</div>
        <h3 class="blueprint__title">Prototyping &amp; Testing</h3>
        <p class="blueprint__desc">Interactive prototypes tested with real users to validate design decisions and refine the experience.</p>
        <span class="blueprint__dimension">2-3 WEEKS</span>
        <div class="blueprint__annotation-line"></div>
        <div class="blueprint__spec-panel">
          <div class="blueprint__spec-title">Deliverables</div>
          <div class="blueprint__spec-item">Interactive Prototype</div>
          <div class="blueprint__spec-item">Usability Test Report</div>
          <div class="blueprint__spec-item">Iteration Log</div>
          <div class="blueprint__spec-item">Final Validation</div>
        </div>
      </div>
      <div class="blueprint__detail">
        <span class="blueprint__detail-label">DETAIL F</span>
        <div class="blueprint__corner blueprint__corner--tl"></div>
        <div class="blueprint__corner blueprint__corner--tr"></div>
        <div class="blueprint__corner blueprint__corner--bl"></div>
        <div class="blueprint__corner blueprint__corner--br"></div>
        <div class="blueprint__number">06</div>
        <h3 class="blueprint__title">Design Handoff</h3>
        <p class="blueprint__desc">Pixel-perfect specs, asset exports, and developer documentation for seamless implementation.</p>
        <span class="blueprint__dimension">1-2 WEEKS</span>
        <div class="blueprint__annotation-line"></div>
        <div class="blueprint__spec-panel">
          <div class="blueprint__spec-title">Deliverables</div>
          <div class="blueprint__spec-item">Figma Dev Mode</div>
          <div class="blueprint__spec-item">Asset Library</div>
          <div class="blueprint__spec-item">Dev Documentation</div>
          <div class="blueprint__spec-item">QA Checklist</div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- ========================================
     VARIATION 3: TERMINAL / COMMAND LINE
     ======================================== -->
<section class="variation-section terminal-section" id="terminal">
  <div class="variation-header">
    <div class="variation-header__label">Variation 03</div>
    <h2 class="variation-header__title">Terminal / Command Line</h2>
    <button class="notes-toggle" onclick="toggleNotes(this)">
      Notes
      <svg width="12" height="12" viewBox="0 0 12 12" fill="none"><path d="M3 4.5L6 7.5L9 4.5" stroke="currentColor" stroke-width="1.5"/></svg>
    </button>
  </div>
  <div class="notes-panel">
    <div class="notes-panel__content">
      <div class="notes-panel__item">
        <h4>Interaction Model</h4>
        <p>Auto-play typing animation on scroll into view. Each step "executes" sequentially. Skip buttons for impatient users.</p>
      </div>
      <div class="notes-panel__item">
        <h4>Schema Fields</h4>
        <p>stepNumber, title, description, command (auto-generated from service slug).</p>
      </div>
      <div class="notes-panel__item">
        <h4>References</h4>
        <a href="https://vercel.com/blog" target="_blank">Vercel Blog</a>
        <a href="https://warp.dev" target="_blank">Warp Terminal</a>
      </div>
      <div class="notes-panel__item">
        <h4>Trade-offs</h4>
        <p>Sequential only (must wait). Tech-savvy audience. Typing speed must be tuned carefully.</p>
      </div>
      <div class="notes-panel__item">
        <h4>Vibe</h4>
        <p>Hacker aesthetic. CRT nostalgia. Your process is a program being executed.</p>
      </div>
    </div>
  </div>

  <div class="terminal__container">
    <div class="terminal__window">
      <div class="terminal__scanlines"></div>
      <div class="terminal__crt-glow"></div>
      <div class="terminal__header">
        <span class="terminal__dot terminal__dot--red"></span>
        <span class="terminal__dot terminal__dot--yellow"></span>
        <span class="terminal__dot terminal__dot--green"></span>
        <span class="terminal__header-title">KP Process v2.0 -- bash -- 80x24</span>
      </div>
      <div class="terminal__body" id="terminalBody"></div>
      <div class="terminal__controls">
        <button class="terminal__btn" id="terminalSkip" onclick="skipTerminal()">Skip to End</button>
        <button class="terminal__btn" onclick="resetTerminal()">Reset</button>
      </div>
    </div>
  </div>
</section>

<!-- ========================================
     VARIATION 4: REVEALER / SCROLL CURTAIN
     ======================================== -->
<section class="variation-section revealer-section" id="revealer">
  <div class="variation-header">
    <div class="variation-header__label">Variation 04</div>
    <h2 class="variation-header__title">Revealer / Scroll Curtain</h2>
    <button class="notes-toggle" onclick="toggleNotes(this)">
      Notes
      <svg width="12" height="12" viewBox="0 0 12 12" fill="none"><path d="M3 4.5L6 7.5L9 4.5" stroke="currentColor" stroke-width="1.5"/></svg>
    </button>
  </div>
  <div class="notes-panel">
    <div class="notes-panel__content">
      <div class="notes-panel__item">
        <h4>Interaction Model</h4>
        <p>Scroll-driven curtain transitions, each panel covers the previous.</p>
      </div>
      <div class="notes-panel__item">
        <h4>Schema Fields</h4>
        <p>stepNumber, title, description.</p>
      </div>
      <div class="notes-panel__item">
        <h4>References</h4>
        <a href="https://www.apple.com" target="_blank">Apple product pages</a>
        <a href="https://basic.agency" target="_blank">basic.agency</a>
        <a href="https://locomotive.ca" target="_blank">locomotive.ca</a>
      </div>
      <div class="notes-panel__item">
        <h4>Trade-offs</h4>
        <p>High scroll commitment (700vh), very cinematic but needs scroll hints, excellent mobile behavior since it's just vertical scroll.</p>
      </div>
      <div class="notes-panel__item">
        <h4>Vibe</h4>
        <p>Each phase is a chapter reveal, dramatic but controlled.</p>
      </div>
    </div>
  </div>

  <div class="revealer__sticky-container" id="revealerContainer">
    <div class="revealer__viewport" id="revealerViewport">
      <!-- Panels injected by JS -->
    </div>
    <div class="revealer__progress">
      <div class="revealer__progress-fill" id="revealerProgressFill"></div>
    </div>
  </div>
</section>

<!-- ========================================
     VARIATION 5: MORPHING COUNTER
     ======================================== -->
<section class="variation-section counter-section" id="counter">
  <div class="variation-header">
    <div class="variation-header__label">Variation 05</div>
    <h2 class="variation-header__title">Morphing Counter</h2>
    <button class="notes-toggle" onclick="toggleNotes(this)">
      Notes
      <svg width="12" height="12" viewBox="0 0 12 12" fill="none"><path d="M3 4.5L6 7.5L9 4.5" stroke="currentColor" stroke-width="1.5"/></svg>
    </button>
  </div>
  <div class="notes-panel">
    <div class="notes-panel__content">
      <div class="notes-panel__item">
        <h4>Interaction Model</h4>
        <p>Auto-advancing timer with manual pill navigation, hover to pause.</p>
      </div>
      <div class="notes-panel__item">
        <h4>Schema Fields</h4>
        <p>stepNumber, title, description.</p>
      </div>
      <div class="notes-panel__item">
        <h4>References</h4>
        <a href="https://stripe.com/atlas" target="_blank">Stripe Atlas onboarding</a>
        <a href="https://linear.app" target="_blank">Linear.app</a>
        <a href="https://vercel.com" target="_blank">Vercel dashboard</a>
      </div>
      <div class="notes-panel__item">
        <h4>Trade-offs</h4>
        <p>Single viewport (no scroll), auto-play may annoy if too fast, clean and minimal.</p>
      </div>
      <div class="notes-panel__item">
        <h4>Vibe</h4>
        <p>Confident countdown. Minimal. Every step gets its moment.</p>
      </div>
    </div>
  </div>

  <div class="counter__container" id="counterContainer">
    <div class="counter__display">
      <div class="counter__number" id="counterNumber">01</div>
      <h3 class="counter__title"><span class="counter__title-inner" id="counterTitle">Discovery</span></h3>
      <p class="counter__desc" id="counterDesc">We immerse ourselves in your business, users, and goals through stakeholder interviews and competitive analysis.</p>
    </div>
    <div class="counter__pills" id="counterPills">
      <!-- Pills injected by JS -->
    </div>
  </div>
</section>

<!-- ========================================
     VARIATION 6: DIAGONAL CASCADE
     ======================================== -->
<section class="variation-section cascade-section" id="cascade">
  <div class="variation-header">
    <div class="variation-header__label">Variation 06</div>
    <h2 class="variation-header__title">Diagonal Cascade</h2>
    <button class="notes-toggle" onclick="toggleNotes(this)">
      Notes
      <svg width="12" height="12" viewBox="0 0 12 12" fill="none"><path d="M3 4.5L6 7.5L9 4.5" stroke="currentColor" stroke-width="1.5"/></svg>
    </button>
  </div>
  <div class="notes-panel">
    <div class="notes-panel__content">
      <div class="notes-panel__item">
        <h4>Interaction Model</h4>
        <p>Scroll-triggered stagger fade-in, hover lift on cards.</p>
      </div>
      <div class="notes-panel__item">
        <h4>Schema Fields</h4>
        <p>stepNumber, title, description.</p>
      </div>
      <div class="notes-panel__item">
        <h4>References</h4>
        <a href="https://www.pentagram.com" target="_blank">Pentagram.com case studies</a>
        <a href="https://ramotion.com" target="_blank">Ramotion portfolio</a>
        <a href="https://fantasy.co" target="_blank">Fantasy.co</a>
      </div>
      <div class="notes-panel__item">
        <h4>Trade-offs</h4>
        <p>Needs wide viewport for full diagonal effect, graceful column fallback on mobile.</p>
      </div>
      <div class="notes-panel__item">
        <h4>Vibe</h4>
        <p>Structured descent. Each step follows naturally from the last. Architectural rhythm.</p>
      </div>
    </div>
  </div>

  <div class="cascade__container" id="cascadeContainer">
    <svg class="cascade__svg-line" id="cascadeSvg" preserveAspectRatio="none">
      <!-- Line drawn by JS -->
    </svg>
    <div class="cascade__grid" id="cascadeGrid">
      <!-- Cards injected by JS -->
    </div>
  </div>
</section>

<!-- ========================================
     VARIATION 7: RADIAL / COMPASS
     ======================================== -->
<section class="variation-section compass-section" id="compass">
  <div class="variation-header">
    <div class="variation-header__label">Variation 07</div>
    <h2 class="variation-header__title">Radial / Compass</h2>
    <button class="notes-toggle" onclick="toggleNotes(this)">
      Notes
      <svg width="12" height="12" viewBox="0 0 12 12" fill="none"><path d="M3 4.5L6 7.5L9 4.5" stroke="currentColor" stroke-width="1.5"/></svg>
    </button>
  </div>
  <div class="notes-panel">
    <div class="notes-panel__content">
      <div class="notes-panel__item">
        <h4>Interaction Model</h4>
        <p>Click segment to reveal content in center.</p>
      </div>
      <div class="notes-panel__item">
        <h4>Schema Fields</h4>
        <p>stepNumber, title, description.</p>
      </div>
      <div class="notes-panel__item">
        <h4>References</h4>
        <a href="https://stripe.com/sessions" target="_blank">Stripe Sessions</a>
        <a href="https://githubuniverse.com" target="_blank">GitHub Universe</a>
        <a href="https://neal.fun" target="_blank">neal.fun</a>
      </div>
      <div class="notes-panel__item">
        <h4>Trade-offs</h4>
        <p>Complex SVG/CSS, limited to 4-8 steps, falls back to list on mobile.</p>
      </div>
      <div class="notes-panel__item">
        <h4>Vibe</h4>
        <p>Command center. Strategic overview. See the whole process at a glance.</p>
      </div>
    </div>
  </div>

  <div class="compass__container" id="compassContainer">
    <div class="compass__wheel" id="compassWheel">
      <div class="compass__outer-ring"></div>
      <div class="compass__center-ring">
        <div class="compass__center-content" id="compassCenter">
          <div class="compass__center-label" id="compassLabel">OUR PROCESS</div>
          <div class="compass__center-title" id="compassTitle"></div>
          <div class="compass__center-desc" id="compassDesc"></div>
        </div>
      </div>
      <!-- Segments and spokes injected by JS -->
    </div>
  </div>
  <div class="compass__mobile-list" id="compassMobileList">
    <!-- Mobile list injected by JS -->
  </div>
</section>


<!-- ========================================
     JAVASCRIPT
     ======================================== -->
<script>
/* ========================================
   PROCESS DATA
   ======================================== */
var STEPS = [
  { num: 1, title: 'Discovery', desc: 'We immerse ourselves in your business, users, and goals through stakeholder interviews and competitive analysis.' },
  { num: 2, title: 'Research & Strategy', desc: 'User research, persona development, and information architecture to establish a solid foundation.' },
  { num: 3, title: 'Wireframing', desc: 'Low-fidelity layouts that map user flows and validate structure before visual design begins.' },
  { num: 4, title: 'Visual Design', desc: 'High-fidelity mockups that bring the brand to life with typography, color, imagery, and micro-interactions.' },
  { num: 5, title: 'Prototyping & Testing', desc: 'Interactive prototypes tested with real users to validate design decisions and refine the experience.' },
  { num: 6, title: 'Design Handoff', desc: 'Pixel-perfect specs, asset exports, and developer documentation for seamless implementation.' }
];

/* ========================================
   UTILITIES
   ======================================== */
function toggleNotes(btn) {
  var panel = btn.closest('.variation-header').nextElementSibling;
  btn.classList.toggle('open');
  panel.classList.toggle('open');
}

function escapeHtml(s) {
  return s.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
}

function sleep(ms) {
  return new Promise(function(r) { setTimeout(r, ms); });
}

/* ========================================
   TOP NAVIGATION
   ======================================== */
(function initNav() {
  var tabs = document.querySelectorAll('.top-nav__tab');
  var indicator = document.getElementById('navIndicator');
  var sections = document.querySelectorAll('.variation-section');

  function moveIndicator(tab) {
    indicator.style.left = tab.offsetLeft + 'px';
    indicator.style.width = tab.offsetWidth + 'px';
  }

  tabs.forEach(function(tab) {
    tab.addEventListener('click', function() {
      var target = document.getElementById(tab.dataset.target);
      if (target) target.scrollIntoView({ behavior: 'smooth' });
    });
  });

  var observer = new IntersectionObserver(function(entries) {
    entries.forEach(function(entry) {
      if (entry.isIntersecting) {
        var id = entry.target.id;
        tabs.forEach(function(t) { t.classList.remove('active'); });
        var activeTab = document.querySelector('.top-nav__tab[data-target="' + id + '"]');
        if (activeTab) {
          activeTab.classList.add('active');
          moveIndicator(activeTab);
          activeTab.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });
        }
      }
    });
  }, { threshold: 0.2 });

  sections.forEach(function(s) { observer.observe(s); });

  requestAnimationFrame(function() {
    var active = document.querySelector('.top-nav__tab.active');
    if (active) moveIndicator(active);
  });
})();

/* ========================================
   VARIATION 1: ORBIT / SOLAR SYSTEM
   (FIX: detail panel to the right, step 1 auto-selected)
   ======================================== */
(function initOrbit() {
  var system = document.getElementById('orbitSystem');
  var detail = document.getElementById('orbitDetail');
  var detailStep = document.getElementById('orbitDetailStep');
  var detailTitle = document.getElementById('orbitDetailTitle');
  var detailDesc = document.getElementById('orbitDetailDesc');
  var starfield = document.getElementById('orbitStarfield');

  // Generate stars
  for (var i = 0; i < 150; i++) {
    var star = document.createElement('div');
    star.className = 'orbit__star';
    star.style.left = (Math.random() * 100) + '%';
    star.style.top = (Math.random() * 100) + '%';
    star.style.animationDelay = (Math.random() * 5) + 's';
    star.style.animationDuration = (2 + Math.random() * 4) + 's';
    var sz = Math.random() < 0.15 ? 2 : 1;
    star.style.width = sz + 'px';
    star.style.height = sz + 'px';
    starfield.appendChild(star);
  }

  var radii = [70, 110, 150, 190, 230, 270];
  var speeds = [0.0004, 0.00032, 0.00026, 0.00021, 0.00017, 0.00014];
  var planets = [];
  var activePlanet = -1;

  STEPS.forEach(function(step, i) {
    var ring = document.createElement('div');
    ring.className = 'orbit__ring';
    ring.dataset.index = i;
    var r = radii[i];
    ring.style.width = (r * 2) + 'px';
    ring.style.height = (r * 2) + 'px';
    system.appendChild(ring);

    var planet = document.createElement('div');
    planet.className = 'orbit__planet';
    planet.dataset.index = i;
    planet.textContent = step.num;
    planet.addEventListener('click', function() { selectPlanet(i); });
    system.appendChild(planet);

    planets.push({
      el: planet,
      ring: ring,
      radius: r,
      angle: (i / STEPS.length) * Math.PI * 2,
      speed: speeds[i]
    });
  });

  function selectPlanet(index) {
    if (activePlanet === index) {
      activePlanet = -1;
      detail.classList.remove('visible');
      planets.forEach(function(p) {
        p.el.classList.remove('active');
        p.ring.classList.remove('active');
      });
      return;
    }
    activePlanet = index;
    planets.forEach(function(p, idx) {
      p.el.classList.toggle('active', idx === index);
      p.ring.classList.toggle('active', idx === index);
    });
    var step = STEPS[index];
    detailStep.textContent = 'Step 0' + step.num;
    detailTitle.textContent = step.title;
    detailDesc.textContent = step.desc;
    detail.classList.add('visible');
  }

  var systemSize, centerX, centerY;
  function recalcCenter() {
    systemSize = system.offsetWidth;
    centerX = systemSize / 2;
    centerY = systemSize / 2;
  }
  recalcCenter();
  window.addEventListener('resize', recalcCenter);

  var lastTime = performance.now();
  function animate(now) {
    var dt = now - lastTime;
    lastTime = now;
    if (dt > 100) dt = 16;

    planets.forEach(function(p) {
      p.angle += p.speed * dt;
      var x = centerX + Math.cos(p.angle) * p.radius - 22;
      var y = centerY + Math.sin(p.angle) * p.radius - 22;
      p.el.style.left = x + 'px';
      p.el.style.top = y + 'px';
    });

    requestAnimationFrame(animate);
  }
  requestAnimationFrame(animate);

  // FIX: Auto-select step 1 on load
  setTimeout(function() { selectPlanet(0); }, 300);
})();

/* ========================================
   VARIATION 3: TERMINAL
   (FIX: removed Run All button, auto-run on scroll into view, only once)
   ======================================== */
var terminalRunning = false;
var terminalAbort = false;
var terminalHasAutoRun = false;

function createTermLine(type, text) {
  var div = document.createElement('div');
  div.className = 'terminal__line';
  switch (type) {
    case 'prompt':
      div.innerHTML = '<span class="terminal__prompt">$ </span><span class="terminal__command">' + escapeHtml(text) + '</span>';
      break;
    case 'output':
      div.innerHTML = '<span class="terminal__output">' + escapeHtml(text) + '</span>';
      break;
    case 'comment':
      div.innerHTML = '<span class="terminal__comment">' + escapeHtml(text) + '</span>';
      break;
    case 'success':
      div.innerHTML = '<span class="terminal__success">' + text + '</span>';
      break;
    case 'ascii':
      div.innerHTML = '<span class="terminal__ascii">' + escapeHtml(text) + '</span>';
      break;
    case 'progress':
      div.innerHTML = '<span class="terminal__progress-bar"></span>';
      div.dataset.isProgress = 'true';
      break;
    default:
      div.innerHTML = '&nbsp;';
  }
  return div;
}

function buildTerminalSequence() {
  var seq = [];

  seq.push({ type: 'ascii', text: '  _  _____   ____                              ' });
  seq.push({ type: 'ascii', text: ' | |/ /  _ \\ |  _ \\ _ __ ___   ___ ___  ___ ___' });
  seq.push({ type: 'ascii', text: ' | \' /| |_) || |_) | \'__/ _ \\ / __/ _ \\/ __/ __|' });
  seq.push({ type: 'ascii', text: ' | . \\|  __/ |  __/| | | (_) | (_|  __/\\__ \\__ \\' });
  seq.push({ type: 'ascii', text: ' |_|\\_\\_|    |_|   |_|  \\___/ \\___\\___||___/___/' });
  seq.push({ type: 'blank', text: '', delay: 30 });
  seq.push({ type: 'comment', text: '# UI/UX Design Process Pipeline v2.0', delay: 80 });
  seq.push({ type: 'comment', text: '# Initializing design workflow...', delay: 60 });
  seq.push({ type: 'blank', text: '', delay: 40 });

  var commands = [
    'kpi exec discovery --mode=deep',
    'kpi exec research-strategy --personas --ia',
    'kpi exec wireframe --fidelity=low --validate',
    'kpi exec visual-design --hifi --brand',
    'kpi exec prototype-test --users=real --iterate',
    'kpi exec handoff --specs --assets --docs'
  ];

  STEPS.forEach(function(step, i) {
    if (i > 0) {
      seq.push({ type: 'comment', text: '# ' + Array(52).join('\u2500'), delay: 40 });
      seq.push({ type: 'blank', text: '', delay: 20 });
    }
    seq.push({ type: 'prompt', text: commands[i], delay: 100 });
    seq.push({ type: 'output', text: '=> Executing: ' + step.title, delay: 50 });
    seq.push({ type: 'output', text: step.desc, delay: 30 });
    seq.push({ type: 'progress', text: '', delay: 10 });
    seq.push({ type: 'success', text: '  \u2713 ' + step.title + ' \u2014 Complete', delay: 80 });
    seq.push({ type: 'blank', text: '', delay: 30 });
  });

  seq.push({ type: 'blank', text: '', delay: 40 });
  seq.push({ type: 'comment', text: '# All phases complete. Design pipeline executed successfully.', delay: 80 });
  seq.push({ type: 'success', text: '\n  \u2713 Process complete. 6/6 phases delivered.', delay: 120 });

  return seq;
}

async function animateProgressBar(bar) {
  var chars = 30;
  for (var i = 0; i <= chars; i++) {
    if (terminalAbort) break;
    var filled = Array(i + 1).join('\u2588');
    var empty = Array(chars - i + 1).join('\u2591');
    var pct = Math.round((i / chars) * 100);
    bar.textContent = '  [' + filled + empty + '] ' + pct + '%';
    await sleep(12);
  }
}

async function runTerminal() {
  if (terminalRunning) return;
  terminalRunning = true;
  terminalAbort = false;

  var body = document.getElementById('terminalBody');
  body.innerHTML = '';

  var sequence = buildTerminalSequence();

  for (var i = 0; i < sequence.length; i++) {
    if (terminalAbort) break;
    var item = sequence[i];
    var line = createTermLine(item.type, item.text);
    body.appendChild(line);

    await sleep(20);
    line.classList.add('visible');

    if (item.type === 'progress') {
      var bar = line.querySelector('.terminal__progress-bar');
      if (bar) await animateProgressBar(bar);
    }

    body.scrollTop = body.scrollHeight;
    await sleep(item.delay || 40);
  }

  if (!terminalAbort) {
    var cursorLine = document.createElement('div');
    cursorLine.className = 'terminal__line visible';
    cursorLine.innerHTML = '<span class="terminal__prompt">$ </span><span class="terminal__cursor"></span>';
    body.appendChild(cursorLine);
    body.scrollTop = body.scrollHeight;
  }

  terminalRunning = false;
}

function resetTerminal() {
  terminalAbort = true;
  terminalRunning = false;
  terminalHasAutoRun = false;
  var body = document.getElementById('terminalBody');
  body.innerHTML = '';
  var cursorLine = document.createElement('div');
  cursorLine.className = 'terminal__line visible';
  cursorLine.innerHTML = '<span class="terminal__prompt">$ </span><span class="terminal__cursor"></span>';
  body.appendChild(cursorLine);
}

function skipTerminal() {
  terminalAbort = true;
  terminalRunning = false;

  var body = document.getElementById('terminalBody');
  body.innerHTML = '';

  var sequence = buildTerminalSequence();
  sequence.forEach(function(item) {
    var line = createTermLine(item.type, item.text);
    line.classList.add('visible');
    if (item.type === 'progress') {
      var bar = line.querySelector('.terminal__progress-bar');
      if (bar) {
        var filled = Array(31).join('\u2588');
        bar.textContent = '  [' + filled + '] 100%';
      }
    }
    body.appendChild(line);
  });

  var cursorLine = document.createElement('div');
  cursorLine.className = 'terminal__line visible';
  cursorLine.innerHTML = '<span class="terminal__prompt">$ </span><span class="terminal__cursor"></span>';
  body.appendChild(cursorLine);
  body.scrollTop = body.scrollHeight;
}

// Initialize terminal with cursor
resetTerminal();
// Reset the flag since resetTerminal sets it to false
terminalHasAutoRun = false;

// FIX: Auto-run terminal when scrolled into view (once)
(function initTerminalAutoRun() {
  var terminalSection = document.getElementById('terminal');
  var observer = new IntersectionObserver(function(entries) {
    entries.forEach(function(entry) {
      if (entry.isIntersecting && !terminalHasAutoRun && !terminalRunning) {
        terminalHasAutoRun = true;
        runTerminal();
      }
    });
  }, { threshold: 0.3 });
  observer.observe(terminalSection);
})();

/* ========================================
   VARIATION 4: REVEALER / SCROLL CURTAIN
   ======================================== */
(function initRevealer() {
  var container = document.getElementById('revealerContainer');
  var viewport = document.getElementById('revealerViewport');
  var progressFill = document.getElementById('revealerProgressFill');
  var totalPanels = STEPS.length;

  // Build panels
  STEPS.forEach(function(step, i) {
    var panel = document.createElement('div');
    panel.className = 'revealer__panel';
    panel.innerHTML =
      '<span class="revealer__watermark">0' + step.num + '</span>' +
      '<div class="revealer__content">' +
        '<div class="revealer__step-label">Phase 0' + step.num + '</div>' +
        '<h3 class="revealer__title">' + escapeHtml(step.title) + '</h3>' +
        '<p class="revealer__desc">' + escapeHtml(step.desc) + '</p>' +
      '</div>';
    viewport.appendChild(panel);
  });

  var panels = viewport.querySelectorAll('.revealer__panel');

  function updateRevealer() {
    var rect = container.getBoundingClientRect();
    var containerTop = -rect.top;
    var scrollHeight = container.offsetHeight - window.innerHeight;

    if (containerTop < 0 || containerTop > scrollHeight) return;

    var progress = containerTop / scrollHeight;
    progressFill.style.width = (progress * 100) + '%';

    // Each panel gets 1/(n-1) of the scroll for its transition
    // The last panel stays, so we have n-1 transitions
    var transitionCount = totalPanels - 1;
    var panelProgress = progress * transitionCount;
    var currentIndex = Math.min(Math.floor(panelProgress), transitionCount - 1);
    if (currentIndex < 0) currentIndex = 0;
    var localP = panelProgress - currentIndex;

    panels.forEach(function(panel, i) {
      if (i <= currentIndex) {
        // Already scrolled past - fully visible underneath
        panel.style.transform = 'translateY(0)';
        panel.style.zIndex = i;
        panel.style.opacity = '1';
      } else if (i === currentIndex + 1) {
        // This panel is sliding up from bottom
        var eased = 1 - Math.pow(1 - localP, 3);
        var yOffset = (1 - eased) * 100;
        panel.style.transform = 'translateY(' + yOffset + '%)';
        panel.style.zIndex = totalPanels + i;
        panel.style.opacity = '1';
      } else {
        // Panels not yet reached
        panel.style.transform = 'translateY(100%)';
        panel.style.zIndex = i;
        panel.style.opacity = '1';
      }
    });
  }

  window.addEventListener('scroll', function() { requestAnimationFrame(updateRevealer); }, { passive: true });

  // Initialize first panel visible
  panels.forEach(function(panel, i) {
    if (i === 0) {
      panel.style.transform = 'translateY(0)';
      panel.style.zIndex = 0;
    } else {
      panel.style.transform = 'translateY(100%)';
      panel.style.zIndex = i;
    }
  });
})();

/* ========================================
   VARIATION 5: MORPHING COUNTER
   ======================================== */
(function initCounter() {
  var numberEl = document.getElementById('counterNumber');
  var titleInner = document.getElementById('counterTitle');
  var descEl = document.getElementById('counterDesc');
  var pillsContainer = document.getElementById('counterPills');
  var containerEl = document.getElementById('counterContainer');

  var currentIndex = 0;
  var autoTimer = null;
  var fillTimer = null;
  var paused = false;
  var DURATION = 4000; // 4 seconds per step
  var FILL_INTERVAL = 50;

  // Build pills
  STEPS.forEach(function(step, i) {
    var pill = document.createElement('button');
    pill.className = 'counter__pill' + (i === 0 ? ' active' : '');
    pill.innerHTML = '<div class="counter__pill-fill"></div>';
    pill.addEventListener('click', function() {
      goToStep(i);
      restartAuto();
    });
    pillsContainer.appendChild(pill);
  });

  var pills = pillsContainer.querySelectorAll('.counter__pill');

  function goToStep(index) {
    if (index === currentIndex) return;

    // Stop fill animation
    clearInterval(fillTimer);

    // Animate out
    numberEl.classList.add('transitioning');
    titleInner.classList.add('slide-out');
    descEl.classList.add('fading');

    setTimeout(function() {
      currentIndex = index;
      var step = STEPS[currentIndex];

      numberEl.textContent = '0' + step.num;
      titleInner.textContent = step.title;
      descEl.textContent = step.desc;

      // Reset pill states
      pills.forEach(function(p, pi) {
        p.classList.toggle('active', pi === currentIndex);
        p.querySelector('.counter__pill-fill').style.width = '0%';
      });

      // Animate in
      numberEl.classList.remove('transitioning');
      titleInner.classList.remove('slide-out');
      titleInner.classList.add('slide-in');
      descEl.classList.remove('fading');

      requestAnimationFrame(function() {
        requestAnimationFrame(function() {
          titleInner.classList.remove('slide-in');
        });
      });

      // Start fill animation on active pill
      startFill();
    }, 350);
  }

  function startFill() {
    var activePill = pills[currentIndex];
    var fill = activePill.querySelector('.counter__pill-fill');
    var elapsed = 0;
    fill.style.width = '0%';

    clearInterval(fillTimer);
    fillTimer = setInterval(function() {
      if (paused) return;
      elapsed += FILL_INTERVAL;
      var pct = Math.min((elapsed / DURATION) * 100, 100);
      fill.style.width = pct + '%';
      if (elapsed >= DURATION) {
        clearInterval(fillTimer);
      }
    }, FILL_INTERVAL);
  }

  function advanceStep() {
    if (paused) return;
    var next = (currentIndex + 1) % STEPS.length;
    goToStep(next);
  }

  function restartAuto() {
    clearInterval(autoTimer);
    clearInterval(fillTimer);
    // Reset current pill fill
    var fill = pills[currentIndex].querySelector('.counter__pill-fill');
    fill.style.width = '0%';
    startFill();
    autoTimer = setInterval(advanceStep, DURATION);
  }

  // Hover to pause
  containerEl.addEventListener('mouseenter', function() {
    paused = true;
  });
  containerEl.addEventListener('mouseleave', function() {
    paused = false;
  });

  // Start
  startFill();
  autoTimer = setInterval(advanceStep, DURATION);
})();

/* ========================================
   VARIATION 6: DIAGONAL CASCADE
   ======================================== */
(function initCascade() {
  var grid = document.getElementById('cascadeGrid');
  var svgEl = document.getElementById('cascadeSvg');

  // Build cards
  STEPS.forEach(function(step) {
    var card = document.createElement('div');
    card.className = 'cascade__card';
    card.innerHTML =
      '<div class="cascade__number">0' + step.num + '</div>' +
      '<h3 class="cascade__title">' + escapeHtml(step.title) + '</h3>' +
      '<p class="cascade__desc">' + escapeHtml(step.desc) + '</p>';
    grid.appendChild(card);
  });

  var cards = grid.querySelectorAll('.cascade__card');

  // Stagger reveal on scroll
  var observer = new IntersectionObserver(function(entries) {
    entries.forEach(function(entry) {
      if (entry.isIntersecting) {
        var card = entry.target;
        var idx = Array.from(cards).indexOf(card);
        setTimeout(function() {
          card.classList.add('visible');
        }, idx * 120);
        observer.unobserve(card);
      }
    });
  }, { threshold: 0.15 });

  cards.forEach(function(c) { observer.observe(c); });

  // Draw diagonal connecting line through cards via SVG
  function drawLine() {
    if (cards.length < 2) return;
    var containerRect = grid.parentElement.getBoundingClientRect();
    var points = [];

    cards.forEach(function(card) {
      var rect = card.getBoundingClientRect();
      var x = rect.left - containerRect.left + 10;
      var y = rect.top - containerRect.top + 20;
      points.push({ x: x, y: y });
    });

    var linesHtml = '';
    for (var i = 0; i < points.length - 1; i++) {
      linesHtml += '<line x1="' + points[i].x + '" y1="' + points[i].y + '" x2="' + points[i + 1].x + '" y2="' + points[i + 1].y + '"/>';
    }
    svgEl.innerHTML = linesHtml;
  }

  // Redraw line on load and resize
  window.addEventListener('load', drawLine);
  window.addEventListener('resize', drawLine);
  setTimeout(drawLine, 500);
})();

/* ========================================
   VARIATION 7: RADIAL / COMPASS
   (Auto-select step 1 on load)
   ======================================== */
(function initCompass() {
  var wheel = document.getElementById('compassWheel');
  var centerContent = document.getElementById('compassCenter');
  var centerLabel = document.getElementById('compassLabel');
  var centerTitle = document.getElementById('compassTitle');
  var centerDesc = document.getElementById('compassDesc');
  var mobileList = document.getElementById('compassMobileList');

  var activeSegment = -1;
  var segments = [];
  var spokes = [];
  var totalSteps = STEPS.length;
  var wheelSize = wheel.offsetWidth;
  var cx = wheelSize / 2;
  var cy = wheelSize / 2;
  var segmentRadius = wheelSize * 0.42;

  function recalcLayout() {
    wheelSize = wheel.offsetWidth;
    cx = wheelSize / 2;
    cy = wheelSize / 2;
    segmentRadius = wheelSize * 0.42;
    positionSegments();
    positionSpokes();
  }

  // Create segments around the circle
  STEPS.forEach(function(step, i) {
    var angle = (i / totalSteps) * Math.PI * 2 - Math.PI / 2; // Start from top

    // Spoke line
    var spoke = document.createElement('div');
    spoke.className = 'compass__spoke';
    spoke.dataset.index = i;
    wheel.appendChild(spoke);
    spokes.push(spoke);

    // Segment button
    var seg = document.createElement('div');
    seg.className = 'compass__segment';
    seg.dataset.index = i;
    seg.innerHTML =
      '<div class="compass__seg-dot"></div>' +
      '<div class="compass__seg-num">0' + step.num + '</div>' +
      '<div class="compass__seg-title">' + escapeHtml(step.title) + '</div>';
    seg.addEventListener('click', function() { selectSegment(i); });
    wheel.appendChild(seg);
    segments.push(seg);
  });

  function positionSegments() {
    segments.forEach(function(seg, i) {
      var angle = (i / totalSteps) * Math.PI * 2 - Math.PI / 2;
      var x = cx + Math.cos(angle) * segmentRadius - 50;
      var y = cy + Math.sin(angle) * segmentRadius - 30;
      seg.style.left = x + 'px';
      seg.style.top = y + 'px';
    });
  }

  function positionSpokes() {
    var innerR = 82; // center ring radius
    spokes.forEach(function(spoke, i) {
      var angle = (i / totalSteps) * Math.PI * 2 - Math.PI / 2;
      var len = segmentRadius - innerR - 20;
      var startX = cx + Math.cos(angle) * innerR;
      var startY = cy + Math.sin(angle) * innerR;
      var angleDeg = (angle * 180 / Math.PI);
      spoke.style.left = startX + 'px';
      spoke.style.top = startY + 'px';
      spoke.style.width = len + 'px';
      spoke.style.transform = 'rotate(' + angleDeg + 'deg)';
    });
  }

  function selectSegment(index) {
    if (activeSegment === index) {
      // Deselect
      activeSegment = -1;
      segments.forEach(function(s) { s.classList.remove('active'); });
      spokes.forEach(function(s) { s.classList.remove('active'); });
      centerContent.classList.remove('has-selection');
      centerLabel.textContent = 'OUR PROCESS';
      centerTitle.textContent = '';
      centerDesc.textContent = '';
      return;
    }

    activeSegment = index;
    segments.forEach(function(s, si) { s.classList.toggle('active', si === index); });
    spokes.forEach(function(s, si) { s.classList.toggle('active', si === index); });

    var step = STEPS[index];
    centerContent.classList.add('has-selection');
    centerLabel.textContent = 'PHASE 0' + step.num;
    centerTitle.textContent = step.title;
    centerDesc.textContent = step.desc;
  }

  positionSegments();
  positionSpokes();
  window.addEventListener('resize', recalcLayout);

  // Build mobile list
  STEPS.forEach(function(step, i) {
    var item = document.createElement('div');
    item.className = 'compass__mobile-item' + (i === 0 ? ' active' : '');
    item.innerHTML =
      '<div class="compass__mobile-num">0' + step.num + '</div>' +
      '<div class="compass__mobile-title">' + escapeHtml(step.title) + '</div>' +
      '<div class="compass__mobile-desc">' + escapeHtml(step.desc) + '</div>';
    item.addEventListener('click', function() {
      var allItems = mobileList.querySelectorAll('.compass__mobile-item');
      allItems.forEach(function(it) { it.classList.remove('active'); });
      item.classList.add('active');
    });
    mobileList.appendChild(item);
  });

  // Auto-select step 1 on load
  setTimeout(function() { selectSegment(0); }, 300);
})();

</script>
</body>
</html>
