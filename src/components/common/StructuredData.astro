---
// Get the current page's URL
const { url = Astro.url.href, organization = 'KP Infotech', type = 'WebSite' } = Astro.props;

// Define the local business structured data
const businessData = {
  "@context": "https://schema.org",
  "@type": "LocalBusiness",
  "name": "KP Infotech",
  "image": "/logo.svg",
  "url": Astro.site?.href,
  "description": "KP Infotech - Your Digital Transformation Partner. We create innovative solutions to improve your online visibility and optimize business processes.",
  "address": {
    "@type": "PostalAddress",
    "streetAddress": "123 Digital Avenue",
    "addressLocality": "Tech City",
    "addressRegion": "State",
    "postalCode": "123456",
    "addressCountry": "India"
  },
  "telephone": "+91-12345-67890",
  "email": "info@kpinfotech.com",
  "priceRange": "$$",
  "openingHoursSpecification": {
    "@type": "OpeningHoursSpecification",
    "dayOfWeek": [
      "Monday",
      "Tuesday",
      "Wednesday",
      "Thursday",
      "Friday"
    ],
    "opens": "09:00",
    "closes": "18:00"
  },
  "sameAs": [
    "https://facebook.com/kpinfotech",
    "https://twitter.com/kpinfotech",
    "https://linkedin.com/company/kpinfotech",
    "https://instagram.com/kpinfotech"
  ]
};

// Define website structured data
const websiteData = {
  "@context": "https://schema.org",
  "@type": "WebSite",
  "url": Astro.site?.href,
  "name": "KP Infotech",
  "description": "KP Infotech - Your Digital Transformation Partner",
  "potentialAction": {
    "@type": "SearchAction",
    "target": `${Astro.site?.href}search?q={search_term_string}`,
    "query-input": "required name=search_term_string"
  }
};

// Select the data based on type
const structuredData = type === 'LocalBusiness' ? businessData : websiteData;
---

<script type="application/ld+json" set:html={JSON.stringify(structuredData)} />
