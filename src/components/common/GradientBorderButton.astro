---
interface Props {
  children: string | HTMLSlotElement
  href?: string
  className?: string
  size?: 'sm' | 'md' | 'lg'
  rounded?: 'full' | 'xl' | 'md'
  target?: string
  rel?: string
}
const {
  children,
  href,
  className = '',
  size = 'md',
  rounded = 'full',
  target,
  rel,
} = Astro.props

const sizeClasses = {
  sm: 'px-4 py-2 text-sm',
  md: 'px-6 py-3 text-base',
  lg: 'px-8 py-4 text-lg',
}[size]

const roundedClasses = {
  full: 'rounded-full',
  xl: 'rounded-xl',
  md: 'rounded-md',
}[rounded]
---

{
  href ? (
    <a
      href={href}
      target={target}
      rel={rel}
      class={`animated-border-rainbow inline-flex items-center justify-center gap-2 bg-transparent font-medium text-white transition-colors duration-300 hover:bg-white hover:text-black ${sizeClasses} ${roundedClasses} ${className}`}
    >
      <slot name="icon" />
      <slot />
    </a>
  ) : (
    <button
      class={`animated-border-rainbow inline-flex items-center justify-center gap-2 bg-transparent font-medium text-white transition-colors duration-300 hover:bg-white hover:text-black ${sizeClasses} ${roundedClasses} ${className}`}
    >
      <slot name="icon" />
      <slot />
    </button>
  )
}
